<div class="lobby-container" [ngStyle]="{'background-image': 'url(' + '../../assets/img/lobby.png' + ')'}">


    <div class="row topRow" id="topRow">
        <div class="col-md-4">

        </div>
        <div class="col-md-4 lobbyGreeting">
            <h1>Game Lobby</h1>
        </div>
        <div class="col-md-4 loggedIn">

            <div class="loggedInUser">
                <i class="fa fa-user fa-fw"></i>
                {{user.username}}
                <i (click)="logout()" class="fa fa-sign-out" title="logout" aria-hidden="true"></i>
            </div>

        </div>

    </div>
    <div class="row" id="middleRow">
        <div class="col-md-4 createGame" [style.display]="hasJoined()">
            <div class="gameCreation">
                <h2>Create a new game here</h2>
                <br>
                <h3>Game name:</h3>
                <input #gameName/>
                <button class="createGameButton" (click)="createGame(gameName.value); gameName.value=''">
                    Create
                </button>
            </div>

        </div>

        <div class="col-md-4 createGame" *ngIf="joinedGame != undefined">
            <div class="gameCreation">
                <h2>{{joinedGame.name}}</h2>
                <ul *ngFor="let player of joinedGame.players">
                    <li class="players"><i *ngIf="joinedGame.owner==player.username" class="fa fa-star" aria-hidden="true"></i> {{player.username}}</li>
                </ul>

                <span *ngIf="isOwner(joinedGame.owner)==true && joinedGame.status=='PENDING'">
                                <button [disabled]="!hasEnoughPlayers(joinedGame.amountOfPlayers) || joinedGame.status == 'RUNNING'" (click)="startGame(joinedGame)">start</button>
                            </span>

            </div>

        </div>



        <div class="col-md-8 games">

            <div class="gamesHeader">
                <div class="header-gameName">
                    Game Name
                </div>
                <div class="header-gameOwner">
                    Owner
                </div>
                <div class="header-amountOfPlayers">
                    #Players
                </div>
                <div class="header-action">
                    action
                </div>
            </div>

            <ul id="gameList">
                <li *ngFor="let game of games">

                    <div class="gameName">
                        <span *ngIf="game.status == 'PENDING'" class="gameStatusPending">{{game.status}}</span>
                        <span *ngIf="game.status == 'RUNNING'" class="gameStatusRunning">{{game.status}}</span>
                        {{game.name}}
                    </div>
                    <div class="gameOwner">
                        {{game.owner}}
                    </div>
                    <div class="amountOfPlayers">
                        {{game.amountOfPlayers}}/4
                    </div>
                    <div class="gameListButton">
                            <span *ngIf="game.status=='RUNNING'">
                                <button [disabled]="game.status=='RUNNING'" id="Running" class="gameRunning">running</button>
                            </span>

                        <span *ngIf="isOwner(game.owner)==false && game.status=='PENDING'">
                                <button (click)="joinGame(game)" id="Join" [disabled]="!isJoinable(game.status) || game.amountOfPlayers > 3 || joinedGame!=undefined">join</button>
                            </span>

                        <span *ngIf="isOwner(game.owner)==true && game.status=='PENDING'">
                                <button [disabled]="!hasEnoughPlayers(game.amountOfPlayers) || game.status == 'RUNNING'" id="Start" (click)="startGame(game)">start</button>
                            </span>
                    </div>

                </li>
                <div *ngIf="hasNoGames(games)">
                    <div id="noGamesMessage">
                        <i class="fa fa-frown-o" aria-hidden="true"></i>
                        <p>It's so empty in here...could you please create a game?</p>
                    </div>
                </div>

            </ul>
            <div class="gamesHeader-bottom"></div>


        </div>
    </div>

    <div class="row">
        <div class="col-md-12" id="footer">
            <i class="fa fa-copyright" aria-hidden="true"> </i> Hackerz 2017
        </div>
    </div>

</div>
