<div class="playerCards-container">

    <span *ngFor="let card of blueCards">

        <div class="cardSquares {{card.marketCardType}}" *ngIf="IS_MY_TURN && NR==CURRENTPLAYER"
             [ngClass]="{playCard:(NR==CURRENTPLAYER)&& card.color=='BLUE'}"
             (click)="showPlayableCard(card)">
        </div>
    </span>

    <div class="cardSquare BLUE" *ngIf="!IS_MY_TURN || NR!=CURRENTPLAYER || blueCards.length == 0">
    </div>

    <div *ngIf="showBlueCardDetail" class="cardDetail marketCard {{detailCard.marketCardType}}" (mouseenter)="showPlayButton(detailCard.marketCardType)" (mouseleave)="hidePlayButton()">

        <div *ngIf="playButton" class="card {{detailCard.marketCardType}}"  [ngClass]="{blurred: playButton}"></div>
        <button class="closeButton" (click)="closeCard()">X</button>
        <div *ngIf="playButton">
            <button class="playButton" (click)="playCard(detailCard)">play this card</button>
        </div>
    </div>

    <div *ngIf="isPlayingCard" class="cardDetail marketCard moveDescription">
        <div *ngIf="detailCard.marketCardType == 'CHISEL'" class="moveDescription-text">
            place 2 stones on 1 ship or 1 stone on each of 2 ships
        </div>
        <div *ngIf="detailCard.marketCardType == 'LEVER'" class="moveDescription-text">
            click on any highlighted ship to rearrange its stones
        </div>
        <div *ngIf="detailCard.marketCardType == 'HAMMER'" class="moveDescription-text">
            place a stone on a free ship to get three stones from your quarry
        </div>
        <div *ngIf="detailCard.marketCardType == 'SAIL'" class="moveDescription-text">
            place a stone on a free space <br> the ship must me ready to sail after you placed the sone <br> sail the ship
        </div>

    </div>


    <span class="cards greenCards" (mouseenter)="showCardDetails('GREEN')" (mouseleave)="hideCardDetails()">
        {{greenCards.length}}
    </span>

    <span class="cards purpleCards" (mouseenter)="showCardDetails('PURPLE')" (mouseleave)="hideCardDetails()">
        {{purpleCards.length}}
    </span>

    <span *ngIf="true ||!IS_MY_TURN || NR!=CURRENTPLAYER || blueCards.length == 0" class="cards blueCards" (mouseenter)="showCardDetails('BLUE')" (mouseleave)="hideCardDetails()">
        {{blueCards.length}}
    </span>


    <div *ngIf="showGreenCardDetail" class="greenCardDetails">
        <div class="cardWrapper">
            <div class="cardStack">
                <div class="marketCardDetail BURIAL_CHAMBER_DECORATION">
                    <div [ngClass]="{cardBlur: sortedGreenCards[0]==undefined || sortedGreenCards[0].length == 0}">

                    </div>
                </div>
                <span *ngIf="!(sortedGreenCards[0]==undefined || sortedGreenCards[0].length == 0)" class="nrOfCards">
                    {{sortedGreenCards[0].length}}x
                </span>
            </div>

            <div class="cardStack">

                <div class="marketCardDetail OBELISK_DECORATION">
                    <div [ngClass]="{cardBlur: sortedGreenCards[1]==undefined || sortedGreenCards[1].length == 0}">

                    </div>
                </div>
                <span *ngIf="!(sortedGreenCards[1]==undefined || sortedGreenCards[1].length == 0)" class="nrOfCards">
                    {{sortedGreenCards[1].length}}x
                </span>

            </div>

            <div class="cardStack">

                <div class="marketCardDetail PYRAMID_DECORATION">
                    <div [ngClass]="{cardBlur: sortedGreenCards[2]==undefined || sortedGreenCards[2].length == 0}">

                    </div>
                </div>
                <span *ngIf="!(sortedGreenCards[2]==undefined || sortedGreenCards[2].length == 0)" class="nrOfCards">
                    {{sortedGreenCards[2].length}}x
                </span>

            </div>

            <div class="cardStack">
                <div class="marketCardDetail TEMPLE_DECORATION">
                    <div [ngClass]="{cardBlur: sortedGreenCards[3]==undefined || sortedGreenCards[3].length == 0}">

                    </div>
                </div>
                <span *ngIf="!(sortedGreenCards[3]==undefined || sortedGreenCards[3].length == 0)" class="nrOfCards">
                    {{sortedGreenCards[3].length}}x
                </span>
            </div>


        </div>


    </div>

    <div *ngIf="showPurpleCardDetail" class="purpleCardDetails">
        <div class="cardWrapper">
            <div class="marketCardDetail STATUE">
                <div [ngClass]="{cardBlur: purpleCards ==undefined || purpleCards.length == 0}">

                </div>
            </div>
        </div>
        <span *ngIf="!(purpleCards ==undefined || purpleCards.length == 0)" class="nrOfPurpleCards">
            {{purpleCards.length}}x
        </span>
    </div>

    <div *ngIf="showBlueCards" class="blueCardDetails">
        <div class="cardWrapper">
            <div  class="marketCardDetail HAMMER">
                <div [ngClass]="{cardBlur: sortedBlueCards[0]==undefined || sortedBlueCards[0].length == 0}">

                </div>
                <span *ngIf="!(sortedBlueCards[0]==undefined || sortedBlueCards[0].length == 0)" class="nrOfCards">
                    {{sortedBlueCards[0].length}}x
                </span>

            </div>
        </div>
        <div class="cardWrapper">
            <div  class="marketCardDetail LEVER">
                <div [ngClass]="{cardBlur: sortedBlueCards[1]==undefined || sortedBlueCards[1].length == 0}">

                </div>
                <span *ngIf="!(sortedBlueCards[1]==undefined || sortedBlueCards[1].length == 0)" class="nrOfCards">
                    {{sortedBlueCards[1].length}}x
                </span>
            </div>
        </div>
        <div class="cardWrapper">
            <div  class="marketCardDetail CHISEL">
                <div [ngClass]="{cardBlur: sortedBlueCards[2]==undefined || sortedBlueCards[2].length == 0}">

                </div>
                <span *ngIf="!(sortedBlueCards[2]==undefined || sortedBlueCards[2].length == 0)" class="nrOfCards">
                    {{sortedBlueCards[2].length}}x
                </span>
            </div>
        </div>
        <div class="cardWrapper">
            <div  class="marketCardDetail SAIL">
                <div [ngClass]="{cardBlur: sortedBlueCards[3]==undefined || sortedBlueCards[3].length == 0}">

                </div>
                <span *ngIf="!(sortedBlueCards[3]==undefined || sortedBlueCards[3].length == 0)" class="nrOfCards">
                    {{sortedBlueCards[3].length}}x
                </span>
            </div>
        </div>
    </div>
</div>

