<div *ngIf="ship && !ship.hasSailed" id="ship{{ship.id}}" class="ship-container" [ngClass]="{sailed: isDragged, dragging: isDragged, dropped: isDropped}"
     dnd-draggable [dragEnabled]="IS_MY_TURN && isReadyToSail()" [dragData]="transferData" [dropZones]="['siteHarbor']" (dragstart)="onShipDrag()" (dragend)="onDragExit()">
    <div class="ship-back"></div>
    <div class="ship-middle">
        <div class="place" *ngFor="let place of places.slice().reverse()" (click)="setStone(place.id)"
             [ngClass]="{
                occupied: (!isSAIL_MOVE() && (!IS_MY_TURN || IS_MY_SUBROUND_TURN || (stones[place.id] != undefined) || !hasSupplySledStones)) ||
                          (isSAIL_MOVE() && !isReadyForSAIL_MOVE()),
                updated: hasShipUpdated[place.id]
             }">
            <i class="fa fa-plus" aria-hidden="true"></i>
            <div id="stone" *ngIf="stones[place.id]" [ngClass]="{
                BLACK: stones[place.id].color=='BLACK',
                WHITE: stones[place.id].color=='WHITE',
                BROWN: stones[place.id].color=='BROWN',
                GRAY: stones[place.id].color=='GRAY'
                }"></div>
        </div>
    </div>

    <div class="ship-front">
        <div dnd-draggable-handle
             *ngIf="(IS_MY_TURN &&
                    isReadyToSail() &&
                    !ship.hasSailed &&
                    !IS_SUB_ROUND &&
                    !is_HAMMER_MOVE() &&
                    !is_CHISEL_MOVE() &&
                    !isSAIL_MOVE()
                    ) || (
                        isSAIL_MOVE() &&
                        isReadyForSAIL_MOVE() &&
                        isReadyToSail() &&
                        !ship.hasSailed
                    )"
             class="readyToSail"
             (click)="sail()">
            <span><i class="fa fa-share" aria-hidden="true"></i></span>
        </div>

        <div class="littleStones" *ngIf="!isReadyToSail()">
            <div class="littleStone" *ngFor="let littleStone of littleStones"></div>
            <!--<div>{{ID}}</div>-->
        </div>
    </div>
</div>

